<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:camel="http://camel.apache.org/schema/spring"
       xmlns:task="http://www.springframework.org/schema/task"
       xsi:schemaLocation="http://www.springframework.org/schema/beans       
       					   http://www.springframework.org/schema/beans/spring-beans.xsd
       					   http://www.springframework.org/schema/task       
       					   http://www.springframework.org/schema/task/spring-task.xsd
       					   http://camel.apache.org/schema/spring        
       					   http://camel.apache.org/schema/spring/camel-spring.xsd">

  <camelContext xmlns="http://camel.apache.org/schema/spring">
	  <contextScan />
	  <template id="producerTemplate" defaultEndpoint="seda:aceLogging"/>
  </camelContext>
  
  <bean id="aceWorker" class="test.route.LogEventWorker" init-method="start">
  	<property name="executor" ref="executor" />
  	<property name="aceTransporter">
	  <bean id="transporter" class="test.route.BufferingAceTransporter">
	    <constructor-arg value="5"/>
	    <constructor-arg>
  	  	 	<bean class="test.util.UserXmlWriter" />
	    </constructor-arg>
	  </bean>
  	</property>
  </bean>
  
  <task:executor id="executor" pool-size="2" />
  
</beans>
